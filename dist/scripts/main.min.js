!function(){function e(){i=$("html").scrollTop()||$("body").scrollTop(),n=$(window).height(),i>n-50?$(".open-menu .black").addClass("active"):$(".open-menu .black").removeClass("active"),$(".project").each(function(e){$(this),$(this).offset().top;$(this).offset().top-i<n/2&&!$(this).hasClass("animated")&&!$(this).hasClass("animating")&&$(this).addClass("readyToAnimate"),$(this).hasClass("readyToAnimate")&&($(this).prev(".project").hasClass("animated")||$(this).prev(".project").length<=0)&&a(e+1,$(this))})}function a(a,n){n.removeClass("readyToAnimate").addClass("animating"),1==a?l.animate(400).plot([o[0],o[1]]).after(function(){s.circle(0).fill("#2e4155").move(o[1][0],o[1][1]).animate(500).radius(6).after(function(){c.animate(400).plot([o[1],[600,o[1][1]]]),l.animate(400).plot([o[0],o[1],o[2]]).after(function(){n.removeClass("animating").addClass("animated"),e()}),t(n)})}):2==a&&l.animate(400).plot([o[0],o[1],o[2]]).after(function(){l.animate(400).plot([o[0],o[1],o[2],o[3]]).after(function(){l.animate(400).plot([o[0],o[1],o[2],o[3],o[4]]).after(function(){l.animate(400).plot([o[0],o[1],o[2],o[3],o[4],o[5]]).after(function(){s.circle(0).fill("#2e4155").move(o[5][0],o[5][1]).animate(500).radius(6).after(function(){d.animate(400).plot([o[5],[270,o[5][1]]]),l.animate(400).plot([o[0],o[1],o[2],o[3],o[4],o[5],o[6]]).after(function(){n.removeClass("animating").addClass("animated"),e()}),t(n)})})})})})}function t(e){e.find(".visuel").addClass("active");var a=e.find(".content>div>*");a.each(function(t){var n=$(this);setTimeout(function(){n.addClass("active"),t==a.length-1&&setTimeout(function(){e.find(".title").addClass("underlined")},200)},120*t)})}var n,i,o=[[270,0],[270,260],[270,500],[270,800],[600,800],[600,1100],[600,1600]],s=SVG("drawing").size($(".projects").width(),5e3),l=s.polyline([o[0]]).fill("none").stroke({width:1,color:"#efeff1"}),c=s.polyline([o[1]]).fill("none").stroke({width:1,color:"#efeff1"}),d=s.polyline([o[5]]).fill("none").stroke({width:1,color:"#efeff1"});$(".open-menu").click(function(){$(".menu").addClass("active"),$("body").css("overflow","hidden").addClass("menu-opened"),$(".menu-wrapper").css("display","block").stop().animate({opacity:.8},400)}),$(".menu-wrapper").click(function(){$(".menu").removeClass("active"),$("body").removeClass("menu-opened"),$(".menu-wrapper").stop().animate({opacity:0},400,function(){$(this).css("display","none"),$("body").css("overflow","auto")})}),$(window).scroll(e)}();